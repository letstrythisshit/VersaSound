{
  "last_node_id": 6,
  "last_link_id": 6,
  "nodes": [
    {
      "id": 1,
      "type": "LoadVideo",
      "pos": [100, 150],
      "size": [300, 100],
      "flags": {},
      "order": 0,
      "mode": 0,
      "outputs": [
        {
          "name": "VIDEO",
          "type": "IMAGE",
          "links": [1, 5]
        }
      ],
      "properties": {
        "Node name for S&R": "LoadVideo"
      },
      "widgets_values": [
        "path/to/your/video.mp4"
      ]
    },
    {
      "id": 2,
      "type": "VersaSound_VisualFeatureExtractor",
      "pos": [450, 150],
      "size": [350, 150],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [
        {
          "name": "video",
          "type": "IMAGE",
          "link": 1
        }
      ],
      "outputs": [
        {
          "name": "visual_features",
          "type": "VISUAL_FEATURES",
          "links": [2, 4]
        }
      ],
      "properties": {
        "Node name for S&R": "VersaSound_VisualFeatureExtractor"
      },
      "widgets_values": [
        "videomae",
        224
      ]
    },
    {
      "id": 3,
      "type": "VersaSound_AudioGenerator",
      "pos": [850, 150],
      "size": [400, 250],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [
        {
          "name": "visual_features",
          "type": "VISUAL_FEATURES",
          "link": 2
        }
      ],
      "outputs": [
        {
          "name": "audio",
          "type": "AUDIO",
          "links": [3]
        }
      ],
      "properties": {
        "Node name for S&R": "VersaSound_AudioGenerator"
      },
      "widgets_values": [
        "audioldm2",
        "High quality audio matching the visual content",
        "low quality, distorted, silence",
        75,
        12.0,
        16000,
        5.0,
        42
      ]
    },
    {
      "id": 4,
      "type": "VersaSound_TemporalSynchronizer",
      "pos": [1300, 150],
      "size": [400, 200],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [
        {
          "name": "audio",
          "type": "AUDIO",
          "link": 3
        },
        {
          "name": "visual_features",
          "type": "VISUAL_FEATURES",
          "link": 4
        },
        {
          "name": "video",
          "type": "IMAGE",
          "link": 5
        }
      ],
      "outputs": [
        {
          "name": "audio",
          "type": "AUDIO",
          "links": [6]
        }
      ],
      "properties": {
        "Node name for S&R": "VersaSound_TemporalSynchronizer"
      },
      "widgets_values": [
        "learned",
        0.5,
        true
      ]
    },
    {
      "id": 5,
      "type": "VersaSound_AudioRefiner",
      "pos": [1750, 150],
      "size": [400, 300],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {
          "name": "audio",
          "type": "AUDIO",
          "link": 6
        }
      ],
      "outputs": [
        {
          "name": "audio",
          "type": "AUDIO",
          "links": [7]
        }
      ],
      "properties": {
        "Node name for S&R": "VersaSound_AudioRefiner"
      },
      "widgets_values": [
        true,
        0.5,
        true,
        1.2,
        true,
        1.1,
        0.9,
        1.0
      ]
    },
    {
      "id": 6,
      "type": "SaveAudio",
      "pos": [2200, 150],
      "size": [300, 100],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "name": "audio",
          "type": "AUDIO",
          "link": 7
        }
      ],
      "properties": {
        "Node name for S&R": "SaveAudio"
      },
      "widgets_values": [
        "output_audio_refined.wav"
      ]
    }
  ],
  "links": [
    [1, 1, 0, 2, 0, "IMAGE"],
    [2, 2, 0, 3, 0, "VISUAL_FEATURES"],
    [3, 3, 0, 4, 0, "AUDIO"],
    [4, 2, 0, 4, 1, "VISUAL_FEATURES"],
    [5, 1, 0, 4, 2, "IMAGE"],
    [6, 4, 0, 5, 0, "AUDIO"],
    [7, 5, 0, 6, 0, "AUDIO"]
  ],
  "groups": [],
  "config": {},
  "extra": {
    "ds": {
      "scale": 1.0,
      "offset": [0, 0]
    }
  },
  "version": 0.4,
  "workflow_info": {
    "name": "VersaSound Advanced Workflow",
    "description": "Professional-quality audio generation with temporal synchronization and refinement",
    "nodes": {
      "LoadVideo": "Load your video file",
      "VersaSound_VisualFeatureExtractor": "Extract visual features from video frames",
      "VersaSound_AudioGenerator": "Generate audio from visual features (higher quality settings)",
      "VersaSound_TemporalSynchronizer": "Align audio timing with visual events",
      "VersaSound_AudioRefiner": "Enhance and normalize audio output",
      "SaveAudio": "Save refined audio to file"
    },
    "use_cases": [
      "Professional video production",
      "Videos with precise timing requirements (footsteps, impacts, etc.)",
      "High-quality audio for content creation",
      "Videos requiring perfect audio-visual synchronization"
    ],
    "parameters": {
      "audio_generator": {
        "num_inference_steps": "75 = higher quality (vs 50 default)",
        "guidance_scale": "12.0 = stronger adherence to visual input",
        "negative_prompt": "Describe what to avoid for cleaner results"
      },
      "temporal_synchronizer": {
        "sync_method": "learned (default) | dtw | cross_correlation",
        "sync_strength": "0.5 = balanced (0.0-1.0 range)",
        "adaptive_sync": "true = automatically adjust to content"
      },
      "audio_refiner": {
        "normalize": "true = consistent volume across output",
        "denoise_strength": "0.5 = moderate noise reduction (0.0-1.0)",
        "enhance_bass": "true = boost low frequencies",
        "bass_boost": "1.2 = 20% boost",
        "enhance_treble": "true = boost high frequencies",
        "treble_boost": "1.1 = 10% boost",
        "compression_ratio": "0.9 = slight dynamic range compression",
        "limiter_threshold": "1.0 = prevent clipping"
      }
    },
    "tips": [
      "Temporal Synchronizer is crucial for videos with distinct timing",
      "Higher num_inference_steps (75-100) provides better quality",
      "Audio Refiner normalizes volume for consistent output",
      "Adjust denoise_strength based on background noise in source",
      "Use enhance_bass for impact sounds, enhance_treble for details",
      "This workflow is slower but produces professional results"
    ],
    "quality_vs_speed": {
      "fast": "num_inference_steps: 30, skip Audio Refiner",
      "balanced": "num_inference_steps: 50, basic refinement",
      "high_quality": "num_inference_steps: 75-100, full refinement (this workflow)"
    }
  }
}
